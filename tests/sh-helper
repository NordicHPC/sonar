# -*- mode: shell-script -*-

set -e

function fail() {
    echo ' !!!ERROR!!!' "$1"
    exit 1
}

function assert_jq() {
    assert jq
}

function assert() {
    while [[ -n $1 ]]; do
        if [[ -z $(command -v $1) ]]; then
            fail "Install $1 first"
        fi
        shift 1
    done
}

function join() {
    local xs=$1
    shift 1
    while [[ -n $1 ]]; do
        xs="$xs,$1"
        shift 1
    done
    echo $xs
}

